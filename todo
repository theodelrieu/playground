macros for detected mfun, static mfun etc
move ssize_t to config
keep begin const? Find a way to make it work with iterator?
